<!DOCTYPE html>
<html>
    <head>
        <title>Chadburn Panel</title>
    </head>
    <body style="font-family: Lekton; font-size: 24pt">
        <p>Websocket based E.O.T. updates (proof of concept).</p>
        <div id="console" style="font-size: 14pt; height: 500px; width: 800px; overflow: scroll; border: 1px solid black"></div>
        <form id="conversation" onsubmit="DispatchResponse()" action="javascript:void(0);">
            <input type="text" id="message" name="message" autocomplete="off" style="width:700px" />
            <input type="submit" id="sub" name="sub" value="Send" style="width:90px" />
        </form>
        <script type="text/javascript">
            var ws = new WebSocket("ws://localhost:8888/websocket");
            ws.onmessage = function(evt){
                x = document.createElement("p");
                x.innerHTML = evt.data;
                document.getElementById("console").appendChild(x);
            }
 
            function DispatchResponse(){
                var userInput = document.getElementById("message").value;
                document.getElementById("message").value = "";
                x = document.createElement("p");
                x.innerHTML = "You sent: " + userInput;
                document.getElementById("console").appendChild(x);
                ws.send(userInput);
            }
        </script>
    </body>
</html>
